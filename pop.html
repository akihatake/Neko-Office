<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="utf-8" />
		<!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
		Remove this if you use the .htaccess -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<title>pop</title>
		<meta name="description" content="" />
		<meta name="author" content="ipu10" />
		<meta name="viewport" content="width=device-width; initial-scale=1.0" />
		<!-- Replace favicon.ico & apple-touch-icon.png in the root of your domain and delete these references -->
		<link rel="shortcut icon" href="/favicon.ico" />
		<link rel="apple-touch-icon" href="/apple-touch-icon.png" />

		<link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />
		<script src="http://code.jquery.com/jquery-1.9.1.js"></script>
		<script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>

		<script>
		(function($) {
		  $.ipop = function() {
		    var wx, wy;    // ウインドウの左上座標
		
		    // ウインドウの座標を画面中央にする。
		    wx = $(document).scrollLeft() + ($(window).width() - $('#ipop').outerWidth()) / 2;
		    if (wx < 0) wx = 0;
		    wy = $(document).scrollTop() + ($(window).height() - $('#ipop').outerHeight()) / 2;
		    if (wy < 0) wy = 0;
/*
			wx = $(document).getMousePosition(e).x;
			wy = $(document).getMousePosition(e).y;
*/		
		    // ポップアップウインドウを表示する。
		    $('#ipop').css({top: wy, left: wx}).fadeIn(100);
		
		    // 閉じるボタンを押したとき
		    $('#ipop-close').click(function() {$('#ipop').fadeOut(100);});
		
		    // タイトルバーをドラッグしたとき
		    $('#ipop-title').mousedown(function(e) {
		      var mx = e.pageX;
		      var my = e.pageY;
		      $(document).on('mousemove.ipop', function(e) {
		        wx += e.pageX - mx;
		        wy += e.pageY - my;
		        $('#ipop').css({top: wy, left: wx});
		        mx = e.pageX;
		        my = e.pageY;
		        return false;
		      }).one('mouseup', function(e) {
		        $(document).off('mousemove.ipop');
		      });
		      return false;
		    });
		  }
		})(jQuery);

		$(function() {
		  $('#open').click(function() {$.ipop();});
		});
		</script>

		<style>
		#ipop {
		  padding: 0;
		  background-color: #fed;
		  border: 1px solid #aaa;
		
		  /* この５行は必須 */
		  width: 300px;
		  height: 200px;
		  position: absolute;
		  display: none;
		  z-index: 9999;
	  
		  overflow: hidden;
		}
		
		#ipop-close {
			position: relative;
			top: 0;
			left: 0;
		}		
		</style>

	</head>
	<body>
		<div>
			<header>
				<h1>pop</h1>
			</header>
			<div>
				<a href="javascript:void(0)" id="open"><img src="Penguin.jpg" alt="penguin" /></a>

				<div id="ipop">
					<span id="ipop-close" class='ui-icon ui-icon-close'></span>
					<p>
					本日は雨です。ああああああああああああああああああああああああああああああああああああああああああああああ
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
					<p>
					本日は雨です。
					帰りの傘はありますか？
					</p>
				</div>
			</div>
			<footer>
				<p>
					&copy; Copyright  by ipu10
				</p>
			</footer>
		</div>
	</body>
</html>
